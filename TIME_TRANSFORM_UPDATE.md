================================================================================
âœ… Time ë³€í™˜ ìˆ˜ì • ì™„ë£Œ: log(x) â†’ log(1+x)
================================================================================

ðŸ“ ë³€ê²½ ë‚´ìš©:
--------------------------------------------------------------------------------

ì´ì „:
-----
ln(x + Îµ)  ë˜ëŠ”  log10(x + Îµ)
  - Îµ = 1e-10 (ë§¤ìš° ìž‘ì€ ê°’)
  - 0ê°’ ì²˜ë¦¬: NaN â†’ -10.0

ë¬¸ì œ:
  - x=0ì¼ ë•Œ ln(1e-10) = -23.03 (ë§¤ìš° ìž‘ìŒ)
  - ìž„ì˜ì˜ ëŒ€ì²´ ê°’(-10.0) í•„ìš”

í˜„ìž¬:
-----
ln(1 + x)  ë˜ëŠ”  log10(1 + x)
  - x=0ì¼ ë•Œ ln(1+0) = 0 (ìžì—°ìŠ¤ëŸ¬ì›€!)
  - 0ê°’ ì²˜ë¦¬: NaN â†’ 0.0

ìž¥ì :
  âœ… x=0ì¼ ë•Œ log(1+0)=0 (ìˆ˜í•™ì ìœ¼ë¡œ ìžì—°ìŠ¤ëŸ¬ì›€)
  âœ… ìž„ì˜ì˜ ê°’(-10.0) ë¶ˆí•„ìš”
  âœ… ì—­ë³€í™˜ë„ ê°„ë‹¨: exp(y) - 1 ë˜ëŠ” 10^y - 1
  âœ… ìž‘ì€ ê°’ì—ì„œ ì„ í˜•ì— ê°€ê¹Œì›€ (Taylor: log(1+x) â‰ˆ x)

================================================================================
ðŸ“Š ë³€í™˜ ì˜ˆì‹œ
================================================================================

Time (ns) â†’ ln(1 + Time) / 10:
-------------------------------
     0 ns â†’ ln(1 +     0) / 10 = 0.000 / 10 = 0.000  âœ… ìžì—°ìŠ¤ëŸ¬ì›€!
   100 ns â†’ ln(1 +   100) / 10 = 4.615 / 10 = 0.462
  1000 ns â†’ ln(1 +  1000) / 10 = 6.909 / 10 = 0.691
 10000 ns â†’ ln(1 + 10000) / 10 = 9.211 / 10 = 0.921
135232 ns â†’ ln(1 +135232) / 10 = 11.815 / 10 = 1.182

ì •ê·œí™” ë²”ìœ„: [0.000, 1.182] (ì´ì „: [-1.000, 0.958])

ì—­ë³€í™˜:
-------
normalized = 0.462 â†’ ln_value = 0.462 * 10 = 4.62
                  â†’ time = exp(4.62) - 1 = 100.97 ns  âœ…

normalized = 0.000 â†’ ln_value = 0.000 * 10 = 0.0
                  â†’ time = exp(0.0) - 1 = 0 ns  âœ…

================================================================================
ðŸ”„ ìˆ˜ì •ëœ íŒŒì¼
================================================================================

1. dataloader/pmt_dataloader.py
   - Forward: ln(1 + x) ë˜ëŠ” log10(1 + x)
   - 0ê°’ ì²˜ë¦¬: NaN â†’ 0.0

2. utils/denormalization.py  
   - Inverse: exp(y) - 1 ë˜ëŠ” 10^y - 1

3. training/trainer.py
   - YAML config ë‚´ìš© ì¶œë ¥ ì¶”ê°€

================================================================================
ðŸ“Š ì˜ˆìƒ ì¶œë ¥ (ìž¬ì‹œìž‘ í›„)
================================================================================

âš™ï¸  Configuration Loaded
======================================================================

Model Config:
  Architecture: dit
  Hidden: 16, Depth: 3
  Fusion: SUM
  Signal+Geometry scales: (100.0, 10.0, 600.0, 550.0, 550.0)
  Label scales: (50000000.0, 1.0, 1.0, 600.0, 550.0, 550.0)
  Time transform: ln
  Exclude zero time: True

Diffusion Config:
  Timesteps: 1000
  Beta: [0.0001, 0.02]
  Objective: eps
  Schedule: linear
  Use CFG: True
  CFG Scale: 2.0
  CFG Dropout: 0.1

Training Config:
  Epochs: 100
  Batch size: 128
  Learning rate: 0.0001
  Scheduler: cosine
  Early stopping: True (patience=4)

======================================================================

Signal Channels (Raw from dataloader):
  Time   (ch 1): [0.000000, 11.815380] mean=9.211234 std=1.523456  âœ… ë²”ìœ„ ë³€ê²½!

Normalized Signals + Geometry:
  Time   (ch 1): [0.000000, 1.181538] mean=0.921123 std=0.152346  âœ… 0ë¶€í„° ì‹œìž‘!

================================================================================
ðŸš€ ì„œë²„ì—ì„œ ì‹¤í–‰
================================================================================

# 1. í•™ìŠµ ì¤‘ë‹¨ (Ctrl+C)

# 2. Git pull (ìµœì‹  ì½”ë“œ)
git pull

# 3. ìºì‹œ ì œê±°
find . -type f -name "*.pyc" -delete
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null

# 4. ìž¬ì‹œìž‘
python scripts/train.py \
    --config configs/default.yaml \
    --data-path /home/work/GENESIS/GENESIS-data/22644_0921_time_shift.h5

================================================================================
