#!/bin/bash
# 최종 수정 - 서버에서 실행할 스크립트

echo "================================================================================"
echo "🔧 최종 수정 완료 - 서버에서 실행하세요"
echo "================================================================================"
echo ""
echo "✅ 수정된 내용:"
echo "   1. models/factory.py - label_offsets, label_scales 전달"
echo "   2. models/architectures.py - ArchitectureConfig에 label 파라미터 추가"
echo "   3. models/factory.py - CFG 파라미터 전달"
echo "   4. All YAML files - 5e7 → 50000000.0 (명시적 숫자)"
echo ""
echo "================================================================================"
echo "서버에서 실행할 명령어 (순서대로):"
echo "================================================================================"
echo ""
echo "# 1. 학습 중단 (Ctrl+C)"
echo ""
echo "# 2. Git pull 또는 파일 동기화"
echo "git pull  # 또는 파일 동기화"
echo ""
echo "# 3. 캐시 완전 제거"
echo "find . -type f -name '*.pyc' -delete"
echo "find . -type d -name '__pycache__' -exec rm -rf {} + 2>/dev/null"
echo ""
echo "# 4. 학습 재시작"
echo "python scripts/train.py \\"
echo "    --config configs/default.yaml \\"
echo "    --data-path /home/work/GENESIS/GENESIS-data/22644_0921_time_shift.h5"
echo ""
echo "================================================================================"
echo "📊 예상 정상 출력:"
echo "================================================================================"
echo ""
echo "Normalized Labels:"
echo "  Energy   (ch 0): [0.0217, 1.9330] ✅"
echo "  X        (ch 3): [-0.9515, 0.9606] ✅"
echo "  Y        (ch 4): [-0.9474, 0.9264] ✅"
echo "  Z        (ch 5): [-0.9159, 0.8919] ✅"
echo ""
echo "Label scales: [5.e+07 1.e+00 1.e+00 6.e+02 5.5e+02 5.5e+02] ✅"
echo ""
echo "================================================================================"

